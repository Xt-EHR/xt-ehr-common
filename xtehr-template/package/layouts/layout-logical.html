---
---
<!-- get modelType -->
{% include fragment-modelType.html id='{{[id]}}' %}

{% include fragment-pagebegin.html %}
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">Publish Box goes here</p><!--EndReleaseHeader-->
  {% include fragment-profile-navtabs.html type='{{[type]}}' id='{{[id]}}' active='content' %}

  <a name="root"> </a>
  <h2 id="root">{{modelType}}:
{% if site.data.structuredefinitions["{{[id]}}"].abstract == true %}
    <i>{{site.data.pages[page.path].title | escape_once}}</i>
{% else %}
    {{site.data.pages[page.path].title}}
{% endif %}
{% if site.data.resources[resource_].experimental == true or site.data.structuredefinitions["{{[id]}}"].abstract == true %}({% endif %}
{% if site.data.structuredefinitions["{{[id]}}"].abstract == true %}Abstract{% endif %}
{% if site.data.resources[resource_].experimental == true %}Experimental{% endif %}
{% if site.data.resources[resource_].experimental == true or site.data.structuredefinitions["{{[id]}}"].abstract == true %}){% endif %}
  </h2>

{% include fragment-resourceTable.html %}
{%if site.data.resources[resource_].description %}
<p>
{{site.data.resources[resource_].description|markdownify}}
</p>
{% endif %}{%if site.data.resources[resource_].purpose %}
<p>
{{site.data.resources[resource_].purpose|markdownify}}
</p>
{% endif %}


<!-- insert intro if present -->
{% include fragment-intro.html type='{{[type]}}' id='{{[id]}}' %}

{%include StructureDefinition-{{[id]}}-sd-xref.xhtml%}

  <!-- no uri -->
  <a name="profile"> </a>
  <h3 id="profile">Views of Logical Model</h3>
  <p>
    <a href="http://build.fhir.org/ig/FHIR/ig-guidance/readingIgs.html#structure-definitions">Description of Differentials, Snapshots and how the different presentations work</a>.
  </p>
  <div id="tabs">
    <ul style="background-color:hsl(200, 100%, 90%)">
      <li>
        <a href="#tabs-diff">Differential Table</a>
      </li>
      <li>
        <a href="#tabs-snap">Snapshot Table</a>
      </li>
      {% if site.data.structuredefinitions["{{[id]}}"].uml %}
      <li>
        <a href="#tabs-uml">UMLDiagram</a>
      </li>
{% endif %}
      {% if site.data.structuredefinitions["{{[id]}}"].obligations %}
      <li>
        <a href="#tabs-obligations">{{site.data.stringsBase['{{[lang]}}']['Obligations']}}</a>
      </li>
{% endif %}
{% if site.data.structuredefinitions["{{[id]}}"].uml %}
      <li>
        <a href="#tabs-uml">{{site.data.stringsBase['{{[lang]}}']['UMLDiagram']}}</a>
      </li>
{% endif %}
{% unless excludexml == 'y' %}
<!--      <li>
        <a href="#tabs-xml">Pseudo-XML</a>
      </li>-->
{% endunless %}
{% unless excludejson == 'y' %}
<!--      <li>
        <a href="#tabs-json">Pseudo-JSON</a>
      </li>-->
{% endunless %}
{% unless excludettl == 'y' %}
      <!--<li>
        <a href="#tabs-ttl">Pseudo-TTL</a>
      </li>-->
{% endunless %}
    </ul>
    <a name="tabs-diff"> </a>
    <div id="tabs-diff">
      <div id="tbl-diff">
        <p>This structure is derived from <a href="{{site.data.structuredefinitions['{{[id]}}'].basepath}}">{{site.data.structuredefinitions['{{[id]}}'].basename}}</a>
        </p>
        <div id="tbl-diff-inner">
          {%include StructureDefinition-{{[id]}}-diff.xhtml%}
          <a name="tx"> </a>
          <!--Terminology Bindings heading in the fragment -->
          {%include StructureDefinition-{{[id]}}-tx-diff.xhtml%}
        
          {% capture invariantsdiff %}
            {% include StructureDefinition-{{[id]}}-inv-diff.xhtml %}
          {% endcapture %}
          <!-- 218 is size of empty table -->
          {% unless invariantsdiff.size <= 218 %}
            <a name="inv-diff"> </a>
            <!--Constraints  heading in the fragment -->
            {% include StructureDefinition-{{[id]}}-inv-diff.xhtml %}
          {% endunless%}
        </div>
      </div>
    </div>
    <a name="tabs-snap"> </a>
    <div id="tabs-snap">
      <div id="tbl-snap">
        <div id="tbl-snap-inner">
          {%include StructureDefinition-{{[id]}}-snapshot.xhtml%}
          <!--Terminology Bindings heading in the fragment -->
          {%include StructureDefinition-{{[id]}}-tx.xhtml%}
        
          {% capture invariants %}
            {% include StructureDefinition-{{[id]}}-inv.xhtml %}
          {% endcapture %}
          <!-- 218 is size of empty table -->
          {% unless invariants.size <= 218 %}
            <a name="inv-snap"> </a>
            <!--Constraints  heading in the fragment -->
            {% include StructureDefinition-{{[id]}}-inv.xhtml %}
          {% endunless%}
        </div>
      </div>
    </div>
    {% if site.data.structuredefinitions["{{[id]}}"].obligations %}
    <a name="tabs-obligations"> </a>
    <div id="tabs-obligations">
      <div id="tbl-obligations">
        <div id="tbl-obligations-inner">
          {% include StructureDefinition-{{[id]}}-obligations.xhtml %}
        </div>
      </div>
    </div>
{% endif %}
{% if site.data.structuredefinitions["{{[id]}}"].uml %}
    <a name="tabs-uml"> </a>
    <div id="tabs-uml">
      <div id="tbl-uml">
        <div id="tbl-uml-inner">
          {% include StructureDefinition-{{[id]}}-uml.xhtml %}
<!--          {% include StructureDefinition-{{[id]}}-uml.xhtml %}-->
        </div>
      </div>
    </div>
{% endif %}

  </div>
  <p>&#160;</p>
  <p>Other representations of model: <a href="{{[type]}}-{{[id]}}.csv">CSV</a>, <a href="{{[type]}}-{{[id]}}.xlsx">Excel</a>{% unless modelType == 'Logical Model' %}, <a href="{{[type]}}-{{[id]}}.sch">Schematron</a>
{% endunless %} 
  </p>

  {% if site.data.resources[resource_].contained != nil %}
  <h4>Contained resources</h4>
  {% include {{[type]}}-{{[id]}}-contained-index.xhtml %}
  {% endif %}

<!-- insert notes if present -->
{% include fragment-notes.html type='{{[type]}}' id='{{[id]}}' %}

</div>
{% assign includetabscripts = 'true' %}
{% include fragment-pageend.html %}
